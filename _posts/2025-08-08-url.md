---
layout: single
title: java 정렬 기준을 정해주는 기능 comparator 인터페이스와 comparingInt()메소드
permalink: /java/util/comparator-comparingInt
categories: ["Java"]
tag: ["Java", "Coding Test"]
toc: true
---

## 상황

프로그래머스의
[전국 대회 선발 고사](https://school.programmers.co.kr/learn/courses/30/lessons/181851) 코딩테스트 문제를 풀다가 꺠달은점.

## 문제 접근 방법

`attendance`의 값들과 `rank`를 매핑해줄 필요가 있다고 판단하였고,
`attendance`가 true인 참가 가능한 `학생의 번호`를 뽑아야 한다.

```java
class Solution {
    public int solution(int[] rank, boolean[] attendance) {
        boolean[] rankAttendees = new boolean[rank.length];
        int[] ranks = new int[3];
        int idx = 0;
        int count = 0;

        for (int i = 0; i < rank.length; i++) {
            rankAttendees[rank[i] -1] = attendance[i];
        }

        while (true) {
            if (rankAttendees[idx]) {
                ranks[count++] = idx;
            }
            if (count == 3) {
                break;
            }
            idx++;
        }
        int answer = (10000 * ranks[0]) + (100 * ranks[1]) + ranks[2];
        return answer;
    }
}
```

위와 같이 코드를 짰지만 학생의 **몇위의 학생이 참가하는지** 는 나와있어도 **학생의 번호**는 나타내지 못했다....

## 문제 해결

```java
import java.util.List;
import java.util.ArrayList;
import java.util.Comparator;

class Solution {
    public int solution(int[] rank, boolean[] attendance) {
        List<int[]> eligibleStudents = new ArrayList<>();
        for(int i = 0; i < rank.length; i++) {
            if(attendance[i]) {
                eligibleStudents.add(new int[]{rank[i], i});
            }
        }

        eligibleStudents.sort(Comparator.comparingInt(s -> s[0]));

        int a = eligibleStudents.get(0)[1];
        int b = eligibleStudents.get(1)[1];
        int c = eligibleStudents.get(2)[1];

        int answer = 10000 * a + 100 * b + c;
        return answer;
    }
}
```

참가 가능한 학생을 먼저 추리고, 그후 **학생의 등수와 번호를 기억해야한다!**

## 알게된 점

### List<>의 제네릭 타입은 모든 참조형(객체) 타입을 받을수 있다.

List<>의 제네릭은 Integer 등 레퍼클래서의 객체로만 저장해야한다고 생각했었는데, `int[]` 형식으로 저장할수 있다는 것을 오늘 이제야 알게되었다.

### Comparator 인터페이스

> 자바에서 정렬 기준을 정의할 때 사용하는 인터페이스

두 객체를 비교하는 역할을 하며, `compare(T o1, T o2)` 메서드를 오버라이드 하거나, 람다식으로 사용 가능

### .comparingInt() 메소드

> `Comparator.comparingInt()`는 비교 기준이 `int`인 경우 사용할수 있는 정렬 기준 생성기

#### 메소드 사용 예시 (1)

> 정수 필드 기준 정렬

```java
class Student {
    int score;
    String name;

    Student(int score, String name) {
        this.score = score;
        this.name = name;
    }
}

List<Student> students = new ArrayList<>();
students.add(new Student(90, "A"));
students.add(new Student(80, "B"));

students.sort(Comparator.comparingInt(s -> s.score)); // 점수 기준 오름차순

```

### 메소드 사용 예시 (2)

> `int[]`의 첫 번째 원소 기준 정렬

```java
List<int[]> list = new ArrayList<>();
list.add(new int[]{3, 0});
list.add(new int[]{1, 1});
list.add(new int[]{2, 2});

list.sort(Comparator.comparingInt(arr -> arr[0]));

```

배열의 첫번째 원소 `arr[0]`을 기준으로 정렬
